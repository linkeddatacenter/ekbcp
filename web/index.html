<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="SPARQL endpoint o linkeddata">
        <meta name="author" content="Turtle Team">
        <link rel="icon" href="resources/images/linkeddataBrowserIco.png">
        <title>SPARQL</title>
        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
              integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <!-- YASGUI css-->
        <link href='http://cdn.jsdelivr.net/yasgui/2.3.1/yasgui.min.css' rel='stylesheet' type='text/css' crossorigin="anonymous" >
        <!-- local css-->
        <link href="resources/css/ekbcp.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <link rel="stylesheet" href="/bower_components/github-fork-ribbon-css/gh-fork-ribbon.ie.css">
        <![endif]-->
        <!--style>
            .endpointText {display:none !important;}
        </style-->
    </head>

    <body>
        <div id="pageHeader" class="navbar navbar-default bs-docs-nav">
            <div id="container" class="container">
                <div class="navbar-header">
                    <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <nav id="nav" class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                    <ul id='topNavBar' class="nav navbar-nav">
                    </ul>
                </nav>
            </div>
        </div>

        <div class="jumbotron" style="height:100%; position:relative;">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <img
                            alt="SPARQL endpoint"
                            class="mediumLogo"
                            src="resources/images/sparqlLogoFull.png"
                        >
                    </div>
                    <div class="col-md-8" style="vertical-align: middle;">
                        <h1>SPARQL Access</h1>
                        <p>For an in-depth overview of the data, we provide a live SPARQL endpoint in which your graph database instance can be queried.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="pageContent" class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div id="sparql"></div>
                    <div id="results"></div>
                    <div>
                        <button onclick="exec()">clicca</button>
                    </div>
                    <div><textarea id="domanda" class="span9" rows=15>
# https://en.wikipedia.org/wiki/History_of_programming_languages
# https://en.wikipedia.org/wiki/Perl
# http://dbpedia.org/page/Perl
# http://dbpedia.org/sparql

PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX dbpedia-owl: <http://dbpedia.org/ontology/>
PREFIX dbpprop: <http://dbpedia.org/property/>
PREFIX dbpedia: <http://dbpedia.org/resource/>

SELECT DISTINCT ?lang1 ?lang2 ?lang1label ?lang2label ?lang1value ?lang2value ?lang1year ?lang2year
WHERE {
  ?lang1 rdf:type dbpedia-owl:ProgrammingLanguage ;
         rdfs:label ?lang1name ;
         dbpprop:year ?lang1year .
  ?lang2 rdf:type dbpedia-owl:ProgrammingLanguage ;
         rdfs:label ?lang2name ;
         dbpprop:year ?lang2year .
  ?lang1 dbpedia-owl:influenced ?lang2 .
  FILTER (?lang1 != ?lang2)
  FILTER (LANG(?lang1name) = 'en')
  FILTER (LANG(?lang2name) = 'en')
  BIND (replace(?lang1name, " .programming language.", "") AS ?lang1label)
  BIND (replace(?lang2name, " .programming language.", "") AS ?lang2label)
  FILTER (?lang1year > 1950 AND ?lang1year < 2020)
  FILTER (?lang2year > 1950 AND ?lang2year < 2020)
  # To render older language larger than newer
  BIND ((2020 - ?lang1year) AS ?lang1value)
  BIND ((2020 - ?lang2year) AS ?lang2value)
}
      </textarea></div>
                    <div id="grafico"></div>
                </div>
            </div>
        </div>

        <div class="jumbotron" style="margin-top: 50px;padding: 20px">
            <div align="middle" style="margin-bottom: 20px">Powered by</div>
            <ul class="list-inline divCenter" align="middle" id="footer_linkeddata">

            </ul>
            <hr>
            <ul class="list-inline divCenter"  align="middle" id="footer_social">

            </ul>
            <hr>
            <div class="divCenter">&copy; 2016 LinkedData.Center - <a href="https://github.com/linkeddatacenter/ekbcp" target="_blanck">fork on github</a></div>

        </div>
        <!--jquery js-->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <!--bootstrap js-->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <!--YASGUI js-->
        <script src='http://cdn.jsdelivr.net/yasgui/2.3.1/yasgui.min.js' crossorigin="anonymous" ></script>
        <!--main js load menu and menage default data-->
        <script src="resources/js/main.js?v=2"></script>
        <!--local sparql js-->
        <script src="resources/js/sparql.js"></script>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="d3sparql.js"></script>
        <script>
            function exec() {
                var endpoint = "http://dbpedia.org/sparql";
                var sparql =document.getElementById("domanda").value;
                d3sparql.query(endpoint, sparql, render);
            }
            function render(json) {
                // set options and call the d3sparql.xxxxx visualization methods in this library ...
                var config = {
                    "charge": -500,
                    "distance": 50,
                    "width": 1000,
                    "height": 750,
                    "selector": "#grafico"
                }
                d3sparql.forcegraph(json, config);
            }
        </script>
        <!--google analystic-->
        <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

         ga('create', analyticsId, 'auto');
         ga('send', 'pageview');

        </script>
    </body>
</html>





